<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/indeximg/logo.png" type="image/png">
    <title>Sign In Form</title>
    <link rel="stylesheet" href="../styles/signUp.css">
</head>

<body>
    <div class="wrapper login">
        <div class="container">
            <div class="col-left">
                <div class="login-text">
                    <h2>Welcome!</h2>
                    <p>Create your account.<br>For Free!</p> <a href="./signup.html" class="btn">Sign Up</a>
                </div>
            </div>
            <div class="col-right">
                <div class="login-form">
                    <h2>Login</h2>
                    <form action="">
                        <p> <label>Username/Email address<span>*</span></label> <input id="id" type="text" placeholder="Username or Email" required> </p>
                        <p> <label>Password<span>*</span></label> <input id="password" type="password" placeholder="Password" required> </p>
                        
                        <p> <a id = "home" href="#"><input id="login" type="submit" value="Sign In"></a> </p>
                        <p id = "invalidCreds" style = "display: none"> Invalid credentials </p>
                        <p> <a href="">Forgot password?</a> </p>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script>
        const login = document.querySelector("#login");
        login.addEventListener('click', (e) => {

            e.preventDefault();
            const id = document.querySelector('#id').value;
            const password = document.querySelector('#password').value;

            let matchEmail = localStorage.getItem("email");
            let matchUsername = localStorage.getItem("username");
            let matchPassword = localStorage.getItem("password");
            
            if((id == matchEmail || id == matchUsername ) && password == matchPassword) {
                console.log("Matched!");
                window.location.href = "../pages/home.html";
            }
            else {
                const invalid = document.querySelector('#invalidCreds');
                 
                invalid.style.display = "block";
                console.log("Not")
            }
        })
    </script>
</body>
</html>